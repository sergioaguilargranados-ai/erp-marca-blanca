{
  "id": "9e937914-5731-4cf5-97c5-c98324aa42e0",
  "prevId": "c96080ce-8644-4723-b39a-2ee91588dab7",
  "version": "7",
  "dialect": "postgresql",
  "tables": {
    "public.planes": {
      "name": "planes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "nombre": {
          "name": "nombre",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "descripcion": {
          "name": "descripcion",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "precio_mensual": {
          "name": "precio_mensual",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "precio_anual": {
          "name": "precio_anual",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "moneda": {
          "name": "moneda",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'MXN'"
        },
        "max_sucursales": {
          "name": "max_sucursales",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "max_usuarios": {
          "name": "max_usuarios",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_productos": {
          "name": "max_productos",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_transacciones_mes": {
          "name": "max_transacciones_mes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "max_almacenamiento_gb": {
          "name": "max_almacenamiento_gb",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "activo": {
          "name": "activo",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {},
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.empresas": {
      "name": "empresas",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "nombre": {
          "name": "nombre",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "subdominio": {
          "name": "subdominio",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "plan_id": {
          "name": "plan_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "estado": {
          "name": "estado",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'prueba'"
        },
        "fecha_inicio_prueba": {
          "name": "fecha_inicio_prueba",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "fecha_fin_prueba": {
          "name": "fecha_fin_prueba",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "fecha_activacion": {
          "name": "fecha_activacion",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "fecha_suspension": {
          "name": "fecha_suspension",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "fecha_cancelacion": {
          "name": "fecha_cancelacion",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "motivo_cancelacion": {
          "name": "motivo_cancelacion",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "logo_url": {
          "name": "logo_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "color_primario": {
          "name": "color_primario",
          "type": "varchar(7)",
          "primaryKey": false,
          "notNull": false
        },
        "color_secundario": {
          "name": "color_secundario",
          "type": "varchar(7)",
          "primaryKey": false,
          "notNull": false
        },
        "nombre_sistema": {
          "name": "nombre_sistema",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "dia_cobro": {
          "name": "dia_cobro",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 1
        },
        "metodo_pago": {
          "name": "metodo_pago",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "ultimo_pago": {
          "name": "ultimo_pago",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "proximo_pago": {
          "name": "proximo_pago",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "nombre_contacto": {
          "name": "nombre_contacto",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "email_contacto": {
          "name": "email_contacto",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "telefono_contacto": {
          "name": "telefono_contacto",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "uso_sucursales": {
          "name": "uso_sucursales",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "uso_usuarios": {
          "name": "uso_usuarios",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "uso_productos": {
          "name": "uso_productos",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "uso_transacciones_mes": {
          "name": "uso_transacciones_mes",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "uso_almacenamiento_mb": {
          "name": "uso_almacenamiento_mb",
          "type": "bigint",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "empresas_plan_id_planes_id_fk": {
          "name": "empresas_plan_id_planes_id_fk",
          "tableFrom": "empresas",
          "tableTo": "planes",
          "columnsFrom": [
            "plan_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "empresas_subdominio_unique": {
          "name": "empresas_subdominio_unique",
          "nullsNotDistinct": false,
          "columns": [
            "subdominio"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.sucursales": {
      "name": "sucursales",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "empresa_id": {
          "name": "empresa_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "nombre": {
          "name": "nombre",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "codigo": {
          "name": "codigo",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "direccion": {
          "name": "direccion",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ciudad": {
          "name": "ciudad",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "estado": {
          "name": "estado",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "codigo_postal": {
          "name": "codigo_postal",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "pais": {
          "name": "pais",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'MEX'"
        },
        "telefono": {
          "name": "telefono",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "moneda": {
          "name": "moneda",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'MXN'"
        },
        "tasa_iva": {
          "name": "tasa_iva",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'16.00'"
        },
        "rfc": {
          "name": "rfc",
          "type": "varchar(13)",
          "primaryKey": false,
          "notNull": false
        },
        "razon_social": {
          "name": "razon_social",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "regimen_fiscal": {
          "name": "regimen_fiscal",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false
        },
        "activa": {
          "name": "activa",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "sucursales_empresa_id_empresas_id_fk": {
          "name": "sucursales_empresa_id_empresas_id_fk",
          "tableFrom": "sucursales",
          "tableTo": "empresas",
          "columnsFrom": [
            "empresa_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.roles": {
      "name": "roles",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "empresa_id": {
          "name": "empresa_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "nombre": {
          "name": "nombre",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "descripcion": {
          "name": "descripcion",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "es_predefinido": {
          "name": "es_predefinido",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "activo": {
          "name": "activo",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "roles_empresa_id_empresas_id_fk": {
          "name": "roles_empresa_id_empresas_id_fk",
          "tableFrom": "roles",
          "tableTo": "empresas",
          "columnsFrom": [
            "empresa_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.permisos": {
      "name": "permisos",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "rol_id": {
          "name": "rol_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "modulo": {
          "name": "modulo",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "accion": {
          "name": "accion",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "permitido": {
          "name": "permitido",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "permisos_rol_id_roles_id_fk": {
          "name": "permisos_rol_id_roles_id_fk",
          "tableFrom": "permisos",
          "tableTo": "roles",
          "columnsFrom": [
            "rol_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.usuarios": {
      "name": "usuarios",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "empresa_id": {
          "name": "empresa_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "nombre": {
          "name": "nombre",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "telefono": {
          "name": "telefono",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "password_hash": {
          "name": "password_hash",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "email_verificado": {
          "name": "email_verificado",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "token_verificacion": {
          "name": "token_verificacion",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "token_recuperacion": {
          "name": "token_recuperacion",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "token_expiracion": {
          "name": "token_expiracion",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "rol_id": {
          "name": "rol_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "sucursal_principal": {
          "name": "sucursal_principal",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "activo": {
          "name": "activo",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "bloqueado": {
          "name": "bloqueado",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "razon_bloqueo": {
          "name": "razon_bloqueo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ultimo_login": {
          "name": "ultimo_login",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "ultimo_ip": {
          "name": "ultimo_ip",
          "type": "varchar(45)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "usuarios_empresa_id_empresas_id_fk": {
          "name": "usuarios_empresa_id_empresas_id_fk",
          "tableFrom": "usuarios",
          "tableTo": "empresas",
          "columnsFrom": [
            "empresa_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "usuarios_rol_id_roles_id_fk": {
          "name": "usuarios_rol_id_roles_id_fk",
          "tableFrom": "usuarios",
          "tableTo": "roles",
          "columnsFrom": [
            "rol_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "usuarios_sucursal_principal_sucursales_id_fk": {
          "name": "usuarios_sucursal_principal_sucursales_id_fk",
          "tableFrom": "usuarios",
          "tableTo": "sucursales",
          "columnsFrom": [
            "sucursal_principal"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.categorias_productos": {
      "name": "categorias_productos",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "empresa_id": {
          "name": "empresa_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "nombre": {
          "name": "nombre",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "descripcion": {
          "name": "descripcion",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "codigo": {
          "name": "codigo",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "categoria_padre": {
          "name": "categoria_padre",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "activa": {
          "name": "activa",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "categorias_productos_empresa_id_empresas_id_fk": {
          "name": "categorias_productos_empresa_id_empresas_id_fk",
          "tableFrom": "categorias_productos",
          "tableTo": "empresas",
          "columnsFrom": [
            "empresa_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "categorias_productos_categoria_padre_categorias_productos_id_fk": {
          "name": "categorias_productos_categoria_padre_categorias_productos_id_fk",
          "tableFrom": "categorias_productos",
          "tableTo": "categorias_productos",
          "columnsFrom": [
            "categoria_padre"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.productos": {
      "name": "productos",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "empresa_id": {
          "name": "empresa_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "nombre": {
          "name": "nombre",
          "type": "varchar(300)",
          "primaryKey": false,
          "notNull": true
        },
        "descripcion": {
          "name": "descripcion",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sku": {
          "name": "sku",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "codigo_barras": {
          "name": "codigo_barras",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "categoria_id": {
          "name": "categoria_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "precio_compra": {
          "name": "precio_compra",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "precio_venta_minorista": {
          "name": "precio_venta_minorista",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "precio_venta_mayorista": {
          "name": "precio_venta_mayorista",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "precio_venta_especial": {
          "name": "precio_venta_especial",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "unidad_medida": {
          "name": "unidad_medida",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'PZA'"
        },
        "maneja_inventario": {
          "name": "maneja_inventario",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "stock_minimo": {
          "name": "stock_minimo",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "stock_maximo": {
          "name": "stock_maximo",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "aplica_iva": {
          "name": "aplica_iva",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "tasa_iva_especial": {
          "name": "tasa_iva_especial",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "imagen_principal": {
          "name": "imagen_principal",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "imagenes_adicionales": {
          "name": "imagenes_adicionales",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "peso": {
          "name": "peso",
          "type": "numeric(10, 3)",
          "primaryKey": false,
          "notNull": false
        },
        "dimensiones": {
          "name": "dimensiones",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "activo": {
          "name": "activo",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "productos_empresa_id_empresas_id_fk": {
          "name": "productos_empresa_id_empresas_id_fk",
          "tableFrom": "productos",
          "tableTo": "empresas",
          "columnsFrom": [
            "empresa_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "productos_categoria_id_categorias_productos_id_fk": {
          "name": "productos_categoria_id_categorias_productos_id_fk",
          "tableFrom": "productos",
          "tableTo": "categorias_productos",
          "columnsFrom": [
            "categoria_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "productos_codigo_barras_unique": {
          "name": "productos_codigo_barras_unique",
          "nullsNotDistinct": false,
          "columns": [
            "codigo_barras"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.inventario": {
      "name": "inventario",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "producto_id": {
          "name": "producto_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "sucursal_id": {
          "name": "sucursal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "cantidad": {
          "name": "cantidad",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "cantidad_reservada": {
          "name": "cantidad_reservada",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "cantidad_disponible": {
          "name": "cantidad_disponible",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "costo_promedio": {
          "name": "costo_promedio",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "ubicacion": {
          "name": "ubicacion",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "inventario_producto_id_productos_id_fk": {
          "name": "inventario_producto_id_productos_id_fk",
          "tableFrom": "inventario",
          "tableTo": "productos",
          "columnsFrom": [
            "producto_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "inventario_sucursal_id_sucursales_id_fk": {
          "name": "inventario_sucursal_id_sucursales_id_fk",
          "tableFrom": "inventario",
          "tableTo": "sucursales",
          "columnsFrom": [
            "sucursal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.movimientos_inventario": {
      "name": "movimientos_inventario",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "producto_id": {
          "name": "producto_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "sucursal_id": {
          "name": "sucursal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "tipo": {
          "name": "tipo",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "cantidad": {
          "name": "cantidad",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "cantidad_anterior": {
          "name": "cantidad_anterior",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "cantidad_nueva": {
          "name": "cantidad_nueva",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "costo_unitario": {
          "name": "costo_unitario",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "costo_total": {
          "name": "costo_total",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "sucursal_origen_id": {
          "name": "sucursal_origen_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "sucursal_destino_id": {
          "name": "sucursal_destino_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "documento_tipo": {
          "name": "documento_tipo",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "documento_id": {
          "name": "documento_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "observaciones": {
          "name": "observaciones",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "usuario_id": {
          "name": "usuario_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "movimientos_inventario_producto_id_productos_id_fk": {
          "name": "movimientos_inventario_producto_id_productos_id_fk",
          "tableFrom": "movimientos_inventario",
          "tableTo": "productos",
          "columnsFrom": [
            "producto_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "movimientos_inventario_sucursal_id_sucursales_id_fk": {
          "name": "movimientos_inventario_sucursal_id_sucursales_id_fk",
          "tableFrom": "movimientos_inventario",
          "tableTo": "sucursales",
          "columnsFrom": [
            "sucursal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "movimientos_inventario_sucursal_origen_id_sucursales_id_fk": {
          "name": "movimientos_inventario_sucursal_origen_id_sucursales_id_fk",
          "tableFrom": "movimientos_inventario",
          "tableTo": "sucursales",
          "columnsFrom": [
            "sucursal_origen_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "movimientos_inventario_sucursal_destino_id_sucursales_id_fk": {
          "name": "movimientos_inventario_sucursal_destino_id_sucursales_id_fk",
          "tableFrom": "movimientos_inventario",
          "tableTo": "sucursales",
          "columnsFrom": [
            "sucursal_destino_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "movimientos_inventario_usuario_id_usuarios_id_fk": {
          "name": "movimientos_inventario_usuario_id_usuarios_id_fk",
          "tableFrom": "movimientos_inventario",
          "tableTo": "usuarios",
          "columnsFrom": [
            "usuario_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.clientes": {
      "name": "clientes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "empresa_id": {
          "name": "empresa_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "nombre": {
          "name": "nombre",
          "type": "varchar(300)",
          "primaryKey": false,
          "notNull": true
        },
        "email": {
          "name": "email",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "telefono": {
          "name": "telefono",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "direccion": {
          "name": "direccion",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "rfc": {
          "name": "rfc",
          "type": "varchar(13)",
          "primaryKey": false,
          "notNull": false
        },
        "razon_social": {
          "name": "razon_social",
          "type": "varchar(300)",
          "primaryKey": false,
          "notNull": false
        },
        "regimen_fiscal": {
          "name": "regimen_fiscal",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false
        },
        "uso_cfdi": {
          "name": "uso_cfdi",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": false
        },
        "codigo_postal": {
          "name": "codigo_postal",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "tipo": {
          "name": "tipo",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'minorista'"
        },
        "credito_activo": {
          "name": "credito_activo",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "limite_credito": {
          "name": "limite_credito",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "puntos": {
          "name": "puntos",
          "type": "integer",
          "primaryKey": false,
          "notNull": true,
          "default": 0
        },
        "notas": {
          "name": "notas",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "activo": {
          "name": "activo",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "clientes_empresa_id_empresas_id_fk": {
          "name": "clientes_empresa_id_empresas_id_fk",
          "tableFrom": "clientes",
          "tableTo": "empresas",
          "columnsFrom": [
            "empresa_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.detalles_venta": {
      "name": "detalles_venta",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "venta_id": {
          "name": "venta_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "producto_id": {
          "name": "producto_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "nombre_producto": {
          "name": "nombre_producto",
          "type": "varchar(300)",
          "primaryKey": false,
          "notNull": true
        },
        "codigo_barras": {
          "name": "codigo_barras",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "sku": {
          "name": "sku",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "cantidad": {
          "name": "cantidad",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "unidad_medida": {
          "name": "unidad_medida",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "precio_unitario": {
          "name": "precio_unitario",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "precio_original": {
          "name": "precio_original",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "descuento": {
          "name": "descuento",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "subtotal": {
          "name": "subtotal",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "iva": {
          "name": "iva",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "total": {
          "name": "total",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "aplica_iva": {
          "name": "aplica_iva",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "tasa_iva": {
          "name": "tasa_iva",
          "type": "numeric(5, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "detalles_venta_venta_id_ventas_id_fk": {
          "name": "detalles_venta_venta_id_ventas_id_fk",
          "tableFrom": "detalles_venta",
          "tableTo": "ventas",
          "columnsFrom": [
            "venta_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "detalles_venta_producto_id_productos_id_fk": {
          "name": "detalles_venta_producto_id_productos_id_fk",
          "tableFrom": "detalles_venta",
          "tableTo": "productos",
          "columnsFrom": [
            "producto_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ventas": {
      "name": "ventas",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "empresa_id": {
          "name": "empresa_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "sucursal_id": {
          "name": "sucursal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "usuario_id": {
          "name": "usuario_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "cliente_id": {
          "name": "cliente_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "nombre_cliente": {
          "name": "nombre_cliente",
          "type": "varchar(300)",
          "primaryKey": false,
          "notNull": false
        },
        "folio": {
          "name": "folio",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "subtotal": {
          "name": "subtotal",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "iva": {
          "name": "iva",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "descuento": {
          "name": "descuento",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true,
          "default": "'0'"
        },
        "total": {
          "name": "total",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "metodo_pago": {
          "name": "metodo_pago",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "desglose_pago": {
          "name": "desglose_pago",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "monto_pagado": {
          "name": "monto_pagado",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "cambio": {
          "name": "cambio",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "turno_id": {
          "name": "turno_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "caja_id": {
          "name": "caja_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "factura_id": {
          "name": "factura_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "requiere_factura": {
          "name": "requiere_factura",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pendiente'"
        },
        "estado": {
          "name": "estado",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'completada'"
        },
        "notas": {
          "name": "notas",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "cancelada_at": {
          "name": "cancelada_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        }
      },
      "indexes": {},
      "foreignKeys": {
        "ventas_empresa_id_empresas_id_fk": {
          "name": "ventas_empresa_id_empresas_id_fk",
          "tableFrom": "ventas",
          "tableTo": "empresas",
          "columnsFrom": [
            "empresa_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "ventas_sucursal_id_sucursales_id_fk": {
          "name": "ventas_sucursal_id_sucursales_id_fk",
          "tableFrom": "ventas",
          "tableTo": "sucursales",
          "columnsFrom": [
            "sucursal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "ventas_usuario_id_usuarios_id_fk": {
          "name": "ventas_usuario_id_usuarios_id_fk",
          "tableFrom": "ventas",
          "tableTo": "usuarios",
          "columnsFrom": [
            "usuario_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ventas_cliente_id_clientes_id_fk": {
          "name": "ventas_cliente_id_clientes_id_fk",
          "tableFrom": "ventas",
          "tableTo": "clientes",
          "columnsFrom": [
            "cliente_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.transferencias": {
      "name": "transferencias",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "producto_id": {
          "name": "producto_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "cantidad": {
          "name": "cantidad",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "sucursal_origen_id": {
          "name": "sucursal_origen_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "sucursal_destino_id": {
          "name": "sucursal_destino_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "estado": {
          "name": "estado",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'solicitada'"
        },
        "usuario_solicitante_id": {
          "name": "usuario_solicitante_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "usuario_aprobador_id": {
          "name": "usuario_aprobador_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "usuario_envio_id": {
          "name": "usuario_envio_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "usuario_recepcion_id": {
          "name": "usuario_recepcion_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "motivo": {
          "name": "motivo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "observaciones": {
          "name": "observaciones",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "motivo_rechazo": {
          "name": "motivo_rechazo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fecha_solicitud": {
          "name": "fecha_solicitud",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "fecha_aprobacion": {
          "name": "fecha_aprobacion",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "fecha_envio": {
          "name": "fecha_envio",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "fecha_recepcion": {
          "name": "fecha_recepcion",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "transferencias_producto_id_productos_id_fk": {
          "name": "transferencias_producto_id_productos_id_fk",
          "tableFrom": "transferencias",
          "tableTo": "productos",
          "columnsFrom": [
            "producto_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "transferencias_sucursal_origen_id_sucursales_id_fk": {
          "name": "transferencias_sucursal_origen_id_sucursales_id_fk",
          "tableFrom": "transferencias",
          "tableTo": "sucursales",
          "columnsFrom": [
            "sucursal_origen_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "transferencias_sucursal_destino_id_sucursales_id_fk": {
          "name": "transferencias_sucursal_destino_id_sucursales_id_fk",
          "tableFrom": "transferencias",
          "tableTo": "sucursales",
          "columnsFrom": [
            "sucursal_destino_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "transferencias_usuario_solicitante_id_usuarios_id_fk": {
          "name": "transferencias_usuario_solicitante_id_usuarios_id_fk",
          "tableFrom": "transferencias",
          "tableTo": "usuarios",
          "columnsFrom": [
            "usuario_solicitante_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transferencias_usuario_aprobador_id_usuarios_id_fk": {
          "name": "transferencias_usuario_aprobador_id_usuarios_id_fk",
          "tableFrom": "transferencias",
          "tableTo": "usuarios",
          "columnsFrom": [
            "usuario_aprobador_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transferencias_usuario_envio_id_usuarios_id_fk": {
          "name": "transferencias_usuario_envio_id_usuarios_id_fk",
          "tableFrom": "transferencias",
          "tableTo": "usuarios",
          "columnsFrom": [
            "usuario_envio_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "transferencias_usuario_recepcion_id_usuarios_id_fk": {
          "name": "transferencias_usuario_recepcion_id_usuarios_id_fk",
          "tableFrom": "transferencias",
          "tableTo": "usuarios",
          "columnsFrom": [
            "usuario_recepcion_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.cajas": {
      "name": "cajas",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "empresa_id": {
          "name": "empresa_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "sucursal_id": {
          "name": "sucursal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "nombre": {
          "name": "nombre",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "codigo": {
          "name": "codigo",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "ubicacion": {
          "name": "ubicacion",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "descripcion": {
          "name": "descripcion",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "activa": {
          "name": "activa",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "cajas_empresa_id_empresas_id_fk": {
          "name": "cajas_empresa_id_empresas_id_fk",
          "tableFrom": "cajas",
          "tableTo": "empresas",
          "columnsFrom": [
            "empresa_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "cajas_sucursal_id_sucursales_id_fk": {
          "name": "cajas_sucursal_id_sucursales_id_fk",
          "tableFrom": "cajas",
          "tableTo": "sucursales",
          "columnsFrom": [
            "sucursal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.turnos": {
      "name": "turnos",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "caja_id": {
          "name": "caja_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "usuario_id": {
          "name": "usuario_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "tipo_turno": {
          "name": "tipo_turno",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "fondo_inicial": {
          "name": "fondo_inicial",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "ventas_efectivo": {
          "name": "ventas_efectivo",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "ventas_tarjeta": {
          "name": "ventas_tarjeta",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "ventas_transferencia": {
          "name": "ventas_transferencia",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "total_ventas": {
          "name": "total_ventas",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "ingresos_adicionales": {
          "name": "ingresos_adicionales",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "retiros": {
          "name": "retiros",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "efectivo_contado": {
          "name": "efectivo_contado",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "efectivo_esperado": {
          "name": "efectivo_esperado",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "diferencia": {
          "name": "diferencia",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "denominaciones": {
          "name": "denominaciones",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "estado": {
          "name": "estado",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'abierto'"
        },
        "observaciones_apertura": {
          "name": "observaciones_apertura",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "observaciones_cierre": {
          "name": "observaciones_cierre",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fecha_apertura": {
          "name": "fecha_apertura",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "fecha_cierre": {
          "name": "fecha_cierre",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "turnos_caja_id_cajas_id_fk": {
          "name": "turnos_caja_id_cajas_id_fk",
          "tableFrom": "turnos",
          "tableTo": "cajas",
          "columnsFrom": [
            "caja_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "turnos_usuario_id_usuarios_id_fk": {
          "name": "turnos_usuario_id_usuarios_id_fk",
          "tableFrom": "turnos",
          "tableTo": "usuarios",
          "columnsFrom": [
            "usuario_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.movimientos_caja": {
      "name": "movimientos_caja",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "turno_id": {
          "name": "turno_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "tipo": {
          "name": "tipo",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "monto": {
          "name": "monto",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "concepto": {
          "name": "concepto",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "observaciones": {
          "name": "observaciones",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "usuario_id": {
          "name": "usuario_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "requiere_autorizacion": {
          "name": "requiere_autorizacion",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'no'"
        },
        "autorizado_por": {
          "name": "autorizado_por",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "movimientos_caja_turno_id_turnos_id_fk": {
          "name": "movimientos_caja_turno_id_turnos_id_fk",
          "tableFrom": "movimientos_caja",
          "tableTo": "turnos",
          "columnsFrom": [
            "turno_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "movimientos_caja_usuario_id_usuarios_id_fk": {
          "name": "movimientos_caja_usuario_id_usuarios_id_fk",
          "tableFrom": "movimientos_caja",
          "tableTo": "usuarios",
          "columnsFrom": [
            "usuario_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "movimientos_caja_autorizado_por_usuarios_id_fk": {
          "name": "movimientos_caja_autorizado_por_usuarios_id_fk",
          "tableFrom": "movimientos_caja",
          "tableTo": "usuarios",
          "columnsFrom": [
            "autorizado_por"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.configuracion_facturacion": {
      "name": "configuracion_facturacion",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "empresa_id": {
          "name": "empresa_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "rfc": {
          "name": "rfc",
          "type": "varchar(13)",
          "primaryKey": false,
          "notNull": true
        },
        "razon_social": {
          "name": "razon_social",
          "type": "varchar(300)",
          "primaryKey": false,
          "notNull": true
        },
        "regimen_fiscal": {
          "name": "regimen_fiscal",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "codigo_postal": {
          "name": "codigo_postal",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "certificado_path": {
          "name": "certificado_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "llave_privada_path": {
          "name": "llave_privada_path",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "password_llave_privada": {
          "name": "password_llave_privada",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "certificado_vigente": {
          "name": "certificado_vigente",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "certificado_expira": {
          "name": "certificado_expira",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "serie_default": {
          "name": "serie_default",
          "type": "varchar(25)",
          "primaryKey": false,
          "notNull": false,
          "default": "'A'"
        },
        "folio_inicial": {
          "name": "folio_inicial",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": false,
          "default": "'1'"
        },
        "folio_actual": {
          "name": "folio_actual",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": false,
          "default": "'1'"
        },
        "pac_proveedor": {
          "name": "pac_proveedor",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false,
          "default": "'facturama'"
        },
        "pac_usuario": {
          "name": "pac_usuario",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "pac_password": {
          "name": "pac_password",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "pac_api_key": {
          "name": "pac_api_key",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "pac_modo_sandbox": {
          "name": "pac_modo_sandbox",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "logo_url": {
          "name": "logo_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "email_envio_automatico": {
          "name": "email_envio_automatico",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "email_asunto": {
          "name": "email_asunto",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "email_mensaje": {
          "name": "email_mensaje",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "configuracion_facturacion_empresa_id_empresas_id_fk": {
          "name": "configuracion_facturacion_empresa_id_empresas_id_fk",
          "tableFrom": "configuracion_facturacion",
          "tableTo": "empresas",
          "columnsFrom": [
            "empresa_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "configuracion_facturacion_empresa_id_unique": {
          "name": "configuracion_facturacion_empresa_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "empresa_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.detalles_factura": {
      "name": "detalles_factura",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "factura_id": {
          "name": "factura_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "clave_prod_serv": {
          "name": "clave_prod_serv",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "no_identificacion": {
          "name": "no_identificacion",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "cantidad": {
          "name": "cantidad",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "clave_unidad": {
          "name": "clave_unidad",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "unidad": {
          "name": "unidad",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "descripcion": {
          "name": "descripcion",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "valor_unitario": {
          "name": "valor_unitario",
          "type": "numeric(12, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "importe": {
          "name": "importe",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "descuento": {
          "name": "descuento",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "objeto_imp": {
          "name": "objeto_imp",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true,
          "default": "'02'"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "detalles_factura_factura_id_facturas_id_fk": {
          "name": "detalles_factura_factura_id_facturas_id_fk",
          "tableFrom": "detalles_factura",
          "tableTo": "facturas",
          "columnsFrom": [
            "factura_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.facturas": {
      "name": "facturas",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "empresa_id": {
          "name": "empresa_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "sucursal_id": {
          "name": "sucursal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "venta_id": {
          "name": "venta_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "cliente_id": {
          "name": "cliente_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "receptor_rfc": {
          "name": "receptor_rfc",
          "type": "varchar(13)",
          "primaryKey": false,
          "notNull": true
        },
        "receptor_nombre": {
          "name": "receptor_nombre",
          "type": "varchar(300)",
          "primaryKey": false,
          "notNull": true
        },
        "receptor_regimen_fiscal": {
          "name": "receptor_regimen_fiscal",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "receptor_uso_cfdi": {
          "name": "receptor_uso_cfdi",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "receptor_codigo_postal": {
          "name": "receptor_codigo_postal",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "serie": {
          "name": "serie",
          "type": "varchar(25)",
          "primaryKey": false,
          "notNull": false
        },
        "folio": {
          "name": "folio",
          "type": "varchar(40)",
          "primaryKey": false,
          "notNull": true
        },
        "folio_fiscal": {
          "name": "folio_fiscal",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "fecha": {
          "name": "fecha",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "fecha_timbrado": {
          "name": "fecha_timbrado",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "fecha_cancelacion": {
          "name": "fecha_cancelacion",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "moneda": {
          "name": "moneda",
          "type": "varchar(3)",
          "primaryKey": false,
          "notNull": true,
          "default": "'MXN'"
        },
        "tipo_cambio": {
          "name": "tipo_cambio",
          "type": "numeric(12, 6)",
          "primaryKey": false,
          "notNull": false,
          "default": "'1'"
        },
        "forma_pago": {
          "name": "forma_pago",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "metodo_pago": {
          "name": "metodo_pago",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true,
          "default": "'PUE'"
        },
        "lugar_expedicion": {
          "name": "lugar_expedicion",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "subtotal": {
          "name": "subtotal",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "descuento": {
          "name": "descuento",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "total": {
          "name": "total",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "total_impuestos_trasladados": {
          "name": "total_impuestos_trasladados",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "total_impuestos_retenidos": {
          "name": "total_impuestos_retenidos",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "estado": {
          "name": "estado",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'borrador'"
        },
        "certificado_sat": {
          "name": "certificado_sat",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sello_digital": {
          "name": "sello_digital",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "sello_cfdi": {
          "name": "sello_cfdi",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cadena_original": {
          "name": "cadena_original",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "xml_url": {
          "name": "xml_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "pdf_url": {
          "name": "pdf_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "observaciones": {
          "name": "observaciones",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "motivo_cancelacion": {
          "name": "motivo_cancelacion",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "usuario_id": {
          "name": "usuario_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "cancelado_por": {
          "name": "cancelado_por",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "facturas_empresa_id_empresas_id_fk": {
          "name": "facturas_empresa_id_empresas_id_fk",
          "tableFrom": "facturas",
          "tableTo": "empresas",
          "columnsFrom": [
            "empresa_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "facturas_sucursal_id_sucursales_id_fk": {
          "name": "facturas_sucursal_id_sucursales_id_fk",
          "tableFrom": "facturas",
          "tableTo": "sucursales",
          "columnsFrom": [
            "sucursal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "facturas_venta_id_ventas_id_fk": {
          "name": "facturas_venta_id_ventas_id_fk",
          "tableFrom": "facturas",
          "tableTo": "ventas",
          "columnsFrom": [
            "venta_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "facturas_cliente_id_clientes_id_fk": {
          "name": "facturas_cliente_id_clientes_id_fk",
          "tableFrom": "facturas",
          "tableTo": "clientes",
          "columnsFrom": [
            "cliente_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "facturas_usuario_id_usuarios_id_fk": {
          "name": "facturas_usuario_id_usuarios_id_fk",
          "tableFrom": "facturas",
          "tableTo": "usuarios",
          "columnsFrom": [
            "usuario_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "facturas_cancelado_por_usuarios_id_fk": {
          "name": "facturas_cancelado_por_usuarios_id_fk",
          "tableFrom": "facturas",
          "tableTo": "usuarios",
          "columnsFrom": [
            "cancelado_por"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.impuestos_factura": {
      "name": "impuestos_factura",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "detalle_factura_id": {
          "name": "detalle_factura_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "tipo_impuesto": {
          "name": "tipo_impuesto",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "impuesto": {
          "name": "impuesto",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "tipo_factor": {
          "name": "tipo_factor",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": true
        },
        "tasa_o_cuota": {
          "name": "tasa_o_cuota",
          "type": "numeric(8, 6)",
          "primaryKey": false,
          "notNull": false
        },
        "base": {
          "name": "base",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "importe": {
          "name": "importe",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "impuestos_factura_detalle_factura_id_detalles_factura_id_fk": {
          "name": "impuestos_factura_detalle_factura_id_detalles_factura_id_fk",
          "tableFrom": "impuestos_factura",
          "tableTo": "detalles_factura",
          "columnsFrom": [
            "detalle_factura_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.proveedores": {
      "name": "proveedores",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "empresa_id": {
          "name": "empresa_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "nombre": {
          "name": "nombre",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "nombre_comercial": {
          "name": "nombre_comercial",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "rfc": {
          "name": "rfc",
          "type": "varchar(13)",
          "primaryKey": false,
          "notNull": false
        },
        "razon_social": {
          "name": "razon_social",
          "type": "varchar(300)",
          "primaryKey": false,
          "notNull": false
        },
        "regimen_fiscal": {
          "name": "regimen_fiscal",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "uso_cfdi": {
          "name": "uso_cfdi",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "calle": {
          "name": "calle",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "numero_exterior": {
          "name": "numero_exterior",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "numero_interior": {
          "name": "numero_interior",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "colonia": {
          "name": "colonia",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "ciudad": {
          "name": "ciudad",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "estado": {
          "name": "estado",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "codigo_postal": {
          "name": "codigo_postal",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false
        },
        "pais": {
          "name": "pais",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false,
          "default": "'Mxico'"
        },
        "telefono": {
          "name": "telefono",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "sitio_web": {
          "name": "sitio_web",
          "type": "varchar(300)",
          "primaryKey": false,
          "notNull": false
        },
        "nombre_contacto": {
          "name": "nombre_contacto",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "telefono_contacto": {
          "name": "telefono_contacto",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "email_contacto": {
          "name": "email_contacto",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "dias_credito": {
          "name": "dias_credito",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "limite_credito": {
          "name": "limite_credito",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "descuento_default": {
          "name": "descuento_default",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "notas": {
          "name": "notas",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cuenta_bancaria": {
          "name": "cuenta_bancaria",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "banco": {
          "name": "banco",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "activo": {
          "name": "activo",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "proveedores_empresa_id_empresas_id_fk": {
          "name": "proveedores_empresa_id_empresas_id_fk",
          "tableFrom": "proveedores",
          "tableTo": "empresas",
          "columnsFrom": [
            "empresa_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.cuentas_por_pagar": {
      "name": "cuentas_por_pagar",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "empresa_id": {
          "name": "empresa_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "proveedor_id": {
          "name": "proveedor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "orden_compra_id": {
          "name": "orden_compra_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "folio_factura_proveedor": {
          "name": "folio_factura_proveedor",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "fecha_factura": {
          "name": "fecha_factura",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "fecha_vencimiento": {
          "name": "fecha_vencimiento",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "fecha_pago": {
          "name": "fecha_pago",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "subtotal": {
          "name": "subtotal",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "iva": {
          "name": "iva",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "total": {
          "name": "total",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "monto_pagado": {
          "name": "monto_pagado",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "saldo_pendiente": {
          "name": "saldo_pendiente",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "estado": {
          "name": "estado",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'pendiente'"
        },
        "metodo_pago": {
          "name": "metodo_pago",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "referencia_pago": {
          "name": "referencia_pago",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "observaciones": {
          "name": "observaciones",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "cuentas_por_pagar_empresa_id_empresas_id_fk": {
          "name": "cuentas_por_pagar_empresa_id_empresas_id_fk",
          "tableFrom": "cuentas_por_pagar",
          "tableTo": "empresas",
          "columnsFrom": [
            "empresa_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "cuentas_por_pagar_proveedor_id_proveedores_id_fk": {
          "name": "cuentas_por_pagar_proveedor_id_proveedores_id_fk",
          "tableFrom": "cuentas_por_pagar",
          "tableTo": "proveedores",
          "columnsFrom": [
            "proveedor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "cuentas_por_pagar_orden_compra_id_ordenes_compra_id_fk": {
          "name": "cuentas_por_pagar_orden_compra_id_ordenes_compra_id_fk",
          "tableFrom": "cuentas_por_pagar",
          "tableTo": "ordenes_compra",
          "columnsFrom": [
            "orden_compra_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.detalles_orden_compra": {
      "name": "detalles_orden_compra",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "orden_compra_id": {
          "name": "orden_compra_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "producto_id": {
          "name": "producto_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "cantidad": {
          "name": "cantidad",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "cantidad_recibida": {
          "name": "cantidad_recibida",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "precio_unitario": {
          "name": "precio_unitario",
          "type": "numeric(12, 6)",
          "primaryKey": false,
          "notNull": true
        },
        "descuento": {
          "name": "descuento",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "subtotal": {
          "name": "subtotal",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "iva": {
          "name": "iva",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "total": {
          "name": "total",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "notas": {
          "name": "notas",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "detalles_orden_compra_orden_compra_id_ordenes_compra_id_fk": {
          "name": "detalles_orden_compra_orden_compra_id_ordenes_compra_id_fk",
          "tableFrom": "detalles_orden_compra",
          "tableTo": "ordenes_compra",
          "columnsFrom": [
            "orden_compra_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "detalles_orden_compra_producto_id_productos_id_fk": {
          "name": "detalles_orden_compra_producto_id_productos_id_fk",
          "tableFrom": "detalles_orden_compra",
          "tableTo": "productos",
          "columnsFrom": [
            "producto_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.detalles_recepcion": {
      "name": "detalles_recepcion",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "recepcion_id": {
          "name": "recepcion_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "detalle_orden_id": {
          "name": "detalle_orden_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "producto_id": {
          "name": "producto_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "cantidad_esperada": {
          "name": "cantidad_esperada",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "cantidad_recibida": {
          "name": "cantidad_recibida",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "cantidad_diferencia": {
          "name": "cantidad_diferencia",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "estado_producto": {
          "name": "estado_producto",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'bueno'"
        },
        "notas": {
          "name": "notas",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "detalles_recepcion_recepcion_id_recepciones_mercancia_id_fk": {
          "name": "detalles_recepcion_recepcion_id_recepciones_mercancia_id_fk",
          "tableFrom": "detalles_recepcion",
          "tableTo": "recepciones_mercancia",
          "columnsFrom": [
            "recepcion_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "detalles_recepcion_detalle_orden_id_detalles_orden_compra_id_fk": {
          "name": "detalles_recepcion_detalle_orden_id_detalles_orden_compra_id_fk",
          "tableFrom": "detalles_recepcion",
          "tableTo": "detalles_orden_compra",
          "columnsFrom": [
            "detalle_orden_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "detalles_recepcion_producto_id_productos_id_fk": {
          "name": "detalles_recepcion_producto_id_productos_id_fk",
          "tableFrom": "detalles_recepcion",
          "tableTo": "productos",
          "columnsFrom": [
            "producto_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.ordenes_compra": {
      "name": "ordenes_compra",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "empresa_id": {
          "name": "empresa_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "proveedor_id": {
          "name": "proveedor_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "sucursal_id": {
          "name": "sucursal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "usuario_id": {
          "name": "usuario_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "folio": {
          "name": "folio",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "fecha_orden": {
          "name": "fecha_orden",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "fecha_esperada": {
          "name": "fecha_esperada",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "fecha_recepcion": {
          "name": "fecha_recepcion",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "subtotal": {
          "name": "subtotal",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "descuento": {
          "name": "descuento",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "iva": {
          "name": "iva",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "total": {
          "name": "total",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "estado": {
          "name": "estado",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true,
          "default": "'borrador'"
        },
        "observaciones": {
          "name": "observaciones",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "terminos_pago": {
          "name": "terminos_pago",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "ordenes_compra_empresa_id_empresas_id_fk": {
          "name": "ordenes_compra_empresa_id_empresas_id_fk",
          "tableFrom": "ordenes_compra",
          "tableTo": "empresas",
          "columnsFrom": [
            "empresa_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "ordenes_compra_proveedor_id_proveedores_id_fk": {
          "name": "ordenes_compra_proveedor_id_proveedores_id_fk",
          "tableFrom": "ordenes_compra",
          "tableTo": "proveedores",
          "columnsFrom": [
            "proveedor_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ordenes_compra_sucursal_id_sucursales_id_fk": {
          "name": "ordenes_compra_sucursal_id_sucursales_id_fk",
          "tableFrom": "ordenes_compra",
          "tableTo": "sucursales",
          "columnsFrom": [
            "sucursal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "ordenes_compra_usuario_id_usuarios_id_fk": {
          "name": "ordenes_compra_usuario_id_usuarios_id_fk",
          "tableFrom": "ordenes_compra",
          "tableTo": "usuarios",
          "columnsFrom": [
            "usuario_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.recepciones_mercancia": {
      "name": "recepciones_mercancia",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "empresa_id": {
          "name": "empresa_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "orden_compra_id": {
          "name": "orden_compra_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "sucursal_id": {
          "name": "sucursal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "usuario_id": {
          "name": "usuario_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "folio": {
          "name": "folio",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "fecha_recepcion": {
          "name": "fecha_recepcion",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "tipo_recepcion": {
          "name": "tipo_recepcion",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'total'"
        },
        "observaciones": {
          "name": "observaciones",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "observaciones_diferencias": {
          "name": "observaciones_diferencias",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "recepciones_mercancia_empresa_id_empresas_id_fk": {
          "name": "recepciones_mercancia_empresa_id_empresas_id_fk",
          "tableFrom": "recepciones_mercancia",
          "tableTo": "empresas",
          "columnsFrom": [
            "empresa_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "recepciones_mercancia_orden_compra_id_ordenes_compra_id_fk": {
          "name": "recepciones_mercancia_orden_compra_id_ordenes_compra_id_fk",
          "tableFrom": "recepciones_mercancia",
          "tableTo": "ordenes_compra",
          "columnsFrom": [
            "orden_compra_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "recepciones_mercancia_sucursal_id_sucursales_id_fk": {
          "name": "recepciones_mercancia_sucursal_id_sucursales_id_fk",
          "tableFrom": "recepciones_mercancia",
          "tableTo": "sucursales",
          "columnsFrom": [
            "sucursal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "recepciones_mercancia_usuario_id_usuarios_id_fk": {
          "name": "recepciones_mercancia_usuario_id_usuarios_id_fk",
          "tableFrom": "recepciones_mercancia",
          "tableTo": "usuarios",
          "columnsFrom": [
            "usuario_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.empleados": {
      "name": "empleados",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "empresa_id": {
          "name": "empresa_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "sucursal_id": {
          "name": "sucursal_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "nombre": {
          "name": "nombre",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "apellido_paterno": {
          "name": "apellido_paterno",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "apellido_materno": {
          "name": "apellido_materno",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": false
        },
        "telefono": {
          "name": "telefono",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false
        },
        "numero_empleado": {
          "name": "numero_empleado",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "puesto": {
          "name": "puesto",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "departamento": {
          "name": "departamento",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "salario": {
          "name": "salario",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "fecha_ingreso": {
          "name": "fecha_ingreso",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "activo": {
          "name": "activo",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "notas": {
          "name": "notas",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "empleados_empresa_id_empresas_id_fk": {
          "name": "empleados_empresa_id_empresas_id_fk",
          "tableFrom": "empleados",
          "tableTo": "empresas",
          "columnsFrom": [
            "empresa_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "empleados_sucursal_id_sucursales_id_fk": {
          "name": "empleados_sucursal_id_sucursales_id_fk",
          "tableFrom": "empleados",
          "tableTo": "sucursales",
          "columnsFrom": [
            "sucursal_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.api_keys": {
      "name": "api_keys",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "empresa_id": {
          "name": "empresa_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "nombre": {
          "name": "nombre",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "key": {
          "name": "key",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "key_prefix": {
          "name": "key_prefix",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "permisos": {
          "name": "permisos",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "requests_por_minuto": {
          "name": "requests_por_minuto",
          "type": "varchar(10)",
          "primaryKey": false,
          "notNull": false,
          "default": "'60'"
        },
        "activa": {
          "name": "activa",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "ultimo_uso": {
          "name": "ultimo_uso",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "total_requests": {
          "name": "total_requests",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "expira_en": {
          "name": "expira_en",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "api_keys_empresa_id_empresas_id_fk": {
          "name": "api_keys_empresa_id_empresas_id_fk",
          "tableFrom": "api_keys",
          "tableTo": "empresas",
          "columnsFrom": [
            "empresa_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "api_keys_key_unique": {
          "name": "api_keys_key_unique",
          "nullsNotDistinct": false,
          "columns": [
            "key"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.auditoria": {
      "name": "auditoria",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "empresa_id": {
          "name": "empresa_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "usuario_id": {
          "name": "usuario_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "accion": {
          "name": "accion",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "modulo": {
          "name": "modulo",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": true
        },
        "entidad_tipo": {
          "name": "entidad_tipo",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "entidad_id": {
          "name": "entidad_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "datos_anteriores": {
          "name": "datos_anteriores",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "datos_nuevos": {
          "name": "datos_nuevos",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "ip": {
          "name": "ip",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "user_agent": {
          "name": "user_agent",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "auditoria_empresa_id_empresas_id_fk": {
          "name": "auditoria_empresa_id_empresas_id_fk",
          "tableFrom": "auditoria",
          "tableTo": "empresas",
          "columnsFrom": [
            "empresa_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "auditoria_usuario_id_usuarios_id_fk": {
          "name": "auditoria_usuario_id_usuarios_id_fk",
          "tableFrom": "auditoria",
          "tableTo": "usuarios",
          "columnsFrom": [
            "usuario_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.notificaciones": {
      "name": "notificaciones",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "empresa_id": {
          "name": "empresa_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "usuario_id": {
          "name": "usuario_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "tipo": {
          "name": "tipo",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "titulo": {
          "name": "titulo",
          "type": "varchar(200)",
          "primaryKey": false,
          "notNull": true
        },
        "mensaje": {
          "name": "mensaje",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "entidad_tipo": {
          "name": "entidad_tipo",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "entidad_id": {
          "name": "entidad_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": false
        },
        "accion_url": {
          "name": "accion_url",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "accion_texto": {
          "name": "accion_texto",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "leida": {
          "name": "leida",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "archivada": {
          "name": "archivada",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": false
        },
        "prioridad": {
          "name": "prioridad",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true,
          "default": "'normal'"
        },
        "fecha_leida": {
          "name": "fecha_leida",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "notificaciones_empresa_id_empresas_id_fk": {
          "name": "notificaciones_empresa_id_empresas_id_fk",
          "tableFrom": "notificaciones",
          "tableTo": "empresas",
          "columnsFrom": [
            "empresa_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "notificaciones_usuario_id_usuarios_id_fk": {
          "name": "notificaciones_usuario_id_usuarios_id_fk",
          "tableFrom": "notificaciones",
          "tableTo": "usuarios",
          "columnsFrom": [
            "usuario_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.preferencia_notificaciones": {
      "name": "preferencia_notificaciones",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "uuid",
          "primaryKey": true,
          "notNull": true,
          "default": "gen_random_uuid()"
        },
        "usuario_id": {
          "name": "usuario_id",
          "type": "uuid",
          "primaryKey": false,
          "notNull": true
        },
        "email_enabled": {
          "name": "email_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "push_enabled": {
          "name": "push_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "in_app_enabled": {
          "name": "in_app_enabled",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "notif_ventas": {
          "name": "notif_ventas",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "notif_inventario": {
          "name": "notif_inventario",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "notif_facturas": {
          "name": "notif_facturas",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "notif_pagos": {
          "name": "notif_pagos",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "notif_sistema": {
          "name": "notif_sistema",
          "type": "boolean",
          "primaryKey": false,
          "notNull": true,
          "default": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true,
          "default": "now()"
        }
      },
      "indexes": {},
      "foreignKeys": {
        "preferencia_notificaciones_usuario_id_usuarios_id_fk": {
          "name": "preferencia_notificaciones_usuario_id_usuarios_id_fk",
          "tableFrom": "preferencia_notificaciones",
          "tableTo": "usuarios",
          "columnsFrom": [
            "usuario_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {
        "preferencia_notificaciones_usuario_id_unique": {
          "name": "preferencia_notificaciones_usuario_id_unique",
          "nullsNotDistinct": false,
          "columns": [
            "usuario_id"
          ]
        }
      },
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.historial_reportes": {
      "name": "historial_reportes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "reporte_id": {
          "name": "reporte_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "empresa_id": {
          "name": "empresa_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tipo": {
          "name": "tipo",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "parametros": {
          "name": "parametros",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "estado": {
          "name": "estado",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "url_archivo": {
          "name": "url_archivo",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tamano_bytes": {
          "name": "tamano_bytes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "tiempo_generacion_ms": {
          "name": "tiempo_generacion_ms",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "error": {
          "name": "error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "generado_por": {
          "name": "generado_por",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "historial_reportes_empresa_idx": {
          "name": "historial_reportes_empresa_idx",
          "columns": [
            {
              "expression": "empresa_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "historial_reportes_fecha_idx": {
          "name": "historial_reportes_fecha_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "historial_reportes_reporte_id_reportes_programados_id_fk": {
          "name": "historial_reportes_reporte_id_reportes_programados_id_fk",
          "tableFrom": "historial_reportes",
          "tableTo": "reportes_programados",
          "columnsFrom": [
            "reporte_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "historial_reportes_empresa_id_empresas_id_fk": {
          "name": "historial_reportes_empresa_id_empresas_id_fk",
          "tableFrom": "historial_reportes",
          "tableTo": "empresas",
          "columnsFrom": [
            "empresa_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "historial_reportes_generado_por_usuarios_id_fk": {
          "name": "historial_reportes_generado_por_usuarios_id_fk",
          "tableFrom": "historial_reportes",
          "tableTo": "usuarios",
          "columnsFrom": [
            "generado_por"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.metricas_cache": {
      "name": "metricas_cache",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "empresa_id": {
          "name": "empresa_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "sucursal_id": {
          "name": "sucursal_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tipo": {
          "name": "tipo",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "periodo": {
          "name": "periodo",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "fecha": {
          "name": "fecha",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "metricas": {
          "name": "metricas",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "metricas_cache_empresa_fecha_idx": {
          "name": "metricas_cache_empresa_fecha_idx",
          "columns": [
            {
              "expression": "empresa_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "fecha",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "metricas_cache_tipo_idx": {
          "name": "metricas_cache_tipo_idx",
          "columns": [
            {
              "expression": "tipo",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "metricas_cache_empresa_id_empresas_id_fk": {
          "name": "metricas_cache_empresa_id_empresas_id_fk",
          "tableFrom": "metricas_cache",
          "tableTo": "empresas",
          "columnsFrom": [
            "empresa_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.reportes_programados": {
      "name": "reportes_programados",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "empresa_id": {
          "name": "empresa_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "nombre": {
          "name": "nombre",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "tipo": {
          "name": "tipo",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "frecuencia": {
          "name": "frecuencia",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "destinatarios": {
          "name": "destinatarios",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": true
        },
        "filtros": {
          "name": "filtros",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "formato": {
          "name": "formato",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": false,
          "default": "'pdf'"
        },
        "activo": {
          "name": "activo",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "ultima_ejecucion": {
          "name": "ultima_ejecucion",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "proxima_ejecucion": {
          "name": "proxima_ejecucion",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "creado_por": {
          "name": "creado_por",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "reportes_programados_empresa_idx": {
          "name": "reportes_programados_empresa_idx",
          "columns": [
            {
              "expression": "empresa_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "reportes_programados_tipo_idx": {
          "name": "reportes_programados_tipo_idx",
          "columns": [
            {
              "expression": "tipo",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "reportes_programados_empresa_id_empresas_id_fk": {
          "name": "reportes_programados_empresa_id_empresas_id_fk",
          "tableFrom": "reportes_programados",
          "tableTo": "empresas",
          "columnsFrom": [
            "empresa_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "reportes_programados_creado_por_usuarios_id_fk": {
          "name": "reportes_programados_creado_por_usuarios_id_fk",
          "tableFrom": "reportes_programados",
          "tableTo": "usuarios",
          "columnsFrom": [
            "creado_por"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.descuentos": {
      "name": "descuentos",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "empresa_id": {
          "name": "empresa_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "codigo": {
          "name": "codigo",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "nombre": {
          "name": "nombre",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "descripcion": {
          "name": "descripcion",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tipo": {
          "name": "tipo",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "valor": {
          "name": "valor",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "aplica_a": {
          "name": "aplica_a",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "productos_ids": {
          "name": "productos_ids",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "categorias_ids": {
          "name": "categorias_ids",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "tipo_cliente": {
          "name": "tipo_cliente",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "clientes_ids": {
          "name": "clientes_ids",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "monto_minimo": {
          "name": "monto_minimo",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false
        },
        "cantidad_minima": {
          "name": "cantidad_minima",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "usos_maximos": {
          "name": "usos_maximos",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "usos_cliente": {
          "name": "usos_cliente",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 1
        },
        "usos_actuales": {
          "name": "usos_actuales",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "requiere_autorizacion": {
          "name": "requiere_autorizacion",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "activo": {
          "name": "activo",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "fecha_inicio": {
          "name": "fecha_inicio",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "fecha_fin": {
          "name": "fecha_fin",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "creado_por": {
          "name": "creado_por",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "descuentos_empresa_idx": {
          "name": "descuentos_empresa_idx",
          "columns": [
            {
              "expression": "empresa_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "descuentos_codigo_idx": {
          "name": "descuentos_codigo_idx",
          "columns": [
            {
              "expression": "codigo",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "descuentos_activo_idx": {
          "name": "descuentos_activo_idx",
          "columns": [
            {
              "expression": "activo",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "descuentos_fechas_idx": {
          "name": "descuentos_fechas_idx",
          "columns": [
            {
              "expression": "fecha_inicio",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            },
            {
              "expression": "fecha_fin",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "descuentos_empresa_id_empresas_id_fk": {
          "name": "descuentos_empresa_id_empresas_id_fk",
          "tableFrom": "descuentos",
          "tableTo": "empresas",
          "columnsFrom": [
            "empresa_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "descuentos_creado_por_usuarios_id_fk": {
          "name": "descuentos_creado_por_usuarios_id_fk",
          "tableFrom": "descuentos",
          "tableTo": "usuarios",
          "columnsFrom": [
            "creado_por"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.movimientos_puntos": {
      "name": "movimientos_puntos",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "cliente_id": {
          "name": "cliente_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "empresa_id": {
          "name": "empresa_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "tipo": {
          "name": "tipo",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "puntos": {
          "name": "puntos",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "saldo_anterior": {
          "name": "saldo_anterior",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "saldo_nuevo": {
          "name": "saldo_nuevo",
          "type": "integer",
          "primaryKey": false,
          "notNull": true
        },
        "venta_id": {
          "name": "venta_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "descripcion": {
          "name": "descripcion",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fecha_expiracion": {
          "name": "fecha_expiracion",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "movimientos_puntos_cliente_idx": {
          "name": "movimientos_puntos_cliente_idx",
          "columns": [
            {
              "expression": "cliente_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "movimientos_puntos_fecha_idx": {
          "name": "movimientos_puntos_fecha_idx",
          "columns": [
            {
              "expression": "created_at",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "movimientos_puntos_cliente_id_clientes_id_fk": {
          "name": "movimientos_puntos_cliente_id_clientes_id_fk",
          "tableFrom": "movimientos_puntos",
          "tableTo": "clientes",
          "columnsFrom": [
            "cliente_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "movimientos_puntos_empresa_id_empresas_id_fk": {
          "name": "movimientos_puntos_empresa_id_empresas_id_fk",
          "tableFrom": "movimientos_puntos",
          "tableTo": "empresas",
          "columnsFrom": [
            "empresa_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.programa_lealtad": {
      "name": "programa_lealtad",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "empresa_id": {
          "name": "empresa_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "nombre": {
          "name": "nombre",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": true
        },
        "descripcion": {
          "name": "descripcion",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "puntos_x_peso": {
          "name": "puntos_x_peso",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'1.00'"
        },
        "peso_x_punto": {
          "name": "peso_x_punto",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'1.00'"
        },
        "puntos_minimo_canje": {
          "name": "puntos_minimo_canje",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 100
        },
        "expiracion_dias": {
          "name": "expiracion_dias",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "activo": {
          "name": "activo",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": true
        },
        "niveles": {
          "name": "niveles",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "programa_lealtad_empresa_idx": {
          "name": "programa_lealtad_empresa_idx",
          "columns": [
            {
              "expression": "empresa_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "programa_lealtad_empresa_id_empresas_id_fk": {
          "name": "programa_lealtad_empresa_id_empresas_id_fk",
          "tableFrom": "programa_lealtad",
          "tableTo": "empresas",
          "columnsFrom": [
            "empresa_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.puntos_clientes": {
      "name": "puntos_clientes",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "cliente_id": {
          "name": "cliente_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "empresa_id": {
          "name": "empresa_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "puntos_disponibles": {
          "name": "puntos_disponibles",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "puntos_acumulados": {
          "name": "puntos_acumulados",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "puntos_canjeados": {
          "name": "puntos_canjeados",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "nivel_actual": {
          "name": "nivel_actual",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "ultima_actualizacion": {
          "name": "ultima_actualizacion",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "puntos_clientes_cliente_idx": {
          "name": "puntos_clientes_cliente_idx",
          "columns": [
            {
              "expression": "cliente_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "puntos_clientes_empresa_idx": {
          "name": "puntos_clientes_empresa_idx",
          "columns": [
            {
              "expression": "empresa_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "puntos_clientes_cliente_id_clientes_id_fk": {
          "name": "puntos_clientes_cliente_id_clientes_id_fk",
          "tableFrom": "puntos_clientes",
          "tableTo": "clientes",
          "columnsFrom": [
            "cliente_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "puntos_clientes_empresa_id_empresas_id_fk": {
          "name": "puntos_clientes_empresa_id_empresas_id_fk",
          "tableFrom": "puntos_clientes",
          "tableTo": "empresas",
          "columnsFrom": [
            "empresa_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.uso_descuentos": {
      "name": "uso_descuentos",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "descuento_id": {
          "name": "descuento_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "empresa_id": {
          "name": "empresa_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "venta_id": {
          "name": "venta_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "cliente_id": {
          "name": "cliente_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "monto_descuento": {
          "name": "monto_descuento",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "autorizado_por": {
          "name": "autorizado_por",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "aplicado_por": {
          "name": "aplicado_por",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "uso_descuentos_descuento_idx": {
          "name": "uso_descuentos_descuento_idx",
          "columns": [
            {
              "expression": "descuento_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "uso_descuentos_empresa_idx": {
          "name": "uso_descuentos_empresa_idx",
          "columns": [
            {
              "expression": "empresa_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "uso_descuentos_cliente_idx": {
          "name": "uso_descuentos_cliente_idx",
          "columns": [
            {
              "expression": "cliente_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "uso_descuentos_descuento_id_descuentos_id_fk": {
          "name": "uso_descuentos_descuento_id_descuentos_id_fk",
          "tableFrom": "uso_descuentos",
          "tableTo": "descuentos",
          "columnsFrom": [
            "descuento_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "uso_descuentos_empresa_id_empresas_id_fk": {
          "name": "uso_descuentos_empresa_id_empresas_id_fk",
          "tableFrom": "uso_descuentos",
          "tableTo": "empresas",
          "columnsFrom": [
            "empresa_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "uso_descuentos_cliente_id_clientes_id_fk": {
          "name": "uso_descuentos_cliente_id_clientes_id_fk",
          "tableFrom": "uso_descuentos",
          "tableTo": "clientes",
          "columnsFrom": [
            "cliente_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "uso_descuentos_autorizado_por_usuarios_id_fk": {
          "name": "uso_descuentos_autorizado_por_usuarios_id_fk",
          "tableFrom": "uso_descuentos",
          "tableTo": "usuarios",
          "columnsFrom": [
            "autorizado_por"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        },
        "uso_descuentos_aplicado_por_usuarios_id_fk": {
          "name": "uso_descuentos_aplicado_por_usuarios_id_fk",
          "tableFrom": "uso_descuentos",
          "tableTo": "usuarios",
          "columnsFrom": [
            "aplicado_por"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.cuentas_por_cobrar": {
      "name": "cuentas_por_cobrar",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "empresa_id": {
          "name": "empresa_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "cliente_id": {
          "name": "cliente_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "venta_id": {
          "name": "venta_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "factura_id": {
          "name": "factura_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "folio": {
          "name": "folio",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "monto_total": {
          "name": "monto_total",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "monto_pagado": {
          "name": "monto_pagado",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": false,
          "default": "'0'"
        },
        "saldo": {
          "name": "saldo",
          "type": "numeric(12, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "estado": {
          "name": "estado",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "fecha_emision": {
          "name": "fecha_emision",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "fecha_vencimiento": {
          "name": "fecha_vencimiento",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "dias_credito": {
          "name": "dias_credito",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "dias_vencidos": {
          "name": "dias_vencidos",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "descripcion": {
          "name": "descripcion",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "notas": {
          "name": "notas",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "cuentas_cobrar_empresa_idx": {
          "name": "cuentas_cobrar_empresa_idx",
          "columns": [
            {
              "expression": "empresa_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "cuentas_cobrar_cliente_idx": {
          "name": "cuentas_cobrar_cliente_idx",
          "columns": [
            {
              "expression": "cliente_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "cuentas_cobrar_estado_idx": {
          "name": "cuentas_cobrar_estado_idx",
          "columns": [
            {
              "expression": "estado",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "cuentas_cobrar_vencimiento_idx": {
          "name": "cuentas_cobrar_vencimiento_idx",
          "columns": [
            {
              "expression": "fecha_vencimiento",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "cuentas_por_cobrar_empresa_id_empresas_id_fk": {
          "name": "cuentas_por_cobrar_empresa_id_empresas_id_fk",
          "tableFrom": "cuentas_por_cobrar",
          "tableTo": "empresas",
          "columnsFrom": [
            "empresa_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "cuentas_por_cobrar_cliente_id_clientes_id_fk": {
          "name": "cuentas_por_cobrar_cliente_id_clientes_id_fk",
          "tableFrom": "cuentas_por_cobrar",
          "tableTo": "clientes",
          "columnsFrom": [
            "cliente_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.facturacion_servicio": {
      "name": "facturacion_servicio",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "empresa_id": {
          "name": "empresa_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "plan_id": {
          "name": "plan_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "periodo": {
          "name": "periodo",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "fecha_inicio": {
          "name": "fecha_inicio",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "fecha_fin": {
          "name": "fecha_fin",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "subtotal": {
          "name": "subtotal",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "iva": {
          "name": "iva",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "total": {
          "name": "total",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "estado": {
          "name": "estado",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "metodo_pago": {
          "name": "metodo_pago",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_invoice_id": {
          "name": "stripe_invoice_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_payment_intent_id": {
          "name": "stripe_payment_intent_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "url_factura_pdf": {
          "name": "url_factura_pdf",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "url_factura_xml": {
          "name": "url_factura_xml",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fecha_pago": {
          "name": "fecha_pago",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "fecha_vencimiento": {
          "name": "fecha_vencimiento",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "intentos_cobro": {
          "name": "intentos_cobro",
          "type": "integer",
          "primaryKey": false,
          "notNull": false,
          "default": 0
        },
        "proximo_intento": {
          "name": "proximo_intento",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "notas": {
          "name": "notas",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        },
        "updated_at": {
          "name": "updated_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "facturacion_servicio_empresa_idx": {
          "name": "facturacion_servicio_empresa_idx",
          "columns": [
            {
              "expression": "empresa_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "facturacion_servicio_estado_idx": {
          "name": "facturacion_servicio_estado_idx",
          "columns": [
            {
              "expression": "estado",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "facturacion_servicio_vencimiento_idx": {
          "name": "facturacion_servicio_vencimiento_idx",
          "columns": [
            {
              "expression": "fecha_vencimiento",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "facturacion_servicio_empresa_id_empresas_id_fk": {
          "name": "facturacion_servicio_empresa_id_empresas_id_fk",
          "tableFrom": "facturacion_servicio",
          "tableTo": "empresas",
          "columnsFrom": [
            "empresa_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.pagos_cuentas_cobrar": {
      "name": "pagos_cuentas_cobrar",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "cuenta_id": {
          "name": "cuenta_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "empresa_id": {
          "name": "empresa_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "monto": {
          "name": "monto",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "metodo_pago": {
          "name": "metodo_pago",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "referencia": {
          "name": "referencia",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "notas": {
          "name": "notas",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "registrado_por": {
          "name": "registrado_por",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fecha_pago": {
          "name": "fecha_pago",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "pagos_cuentas_cobrar_cuenta_idx": {
          "name": "pagos_cuentas_cobrar_cuenta_idx",
          "columns": [
            {
              "expression": "cuenta_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "pagos_cuentas_cobrar_fecha_idx": {
          "name": "pagos_cuentas_cobrar_fecha_idx",
          "columns": [
            {
              "expression": "fecha_pago",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "pagos_cuentas_cobrar_cuenta_id_cuentas_por_cobrar_id_fk": {
          "name": "pagos_cuentas_cobrar_cuenta_id_cuentas_por_cobrar_id_fk",
          "tableFrom": "pagos_cuentas_cobrar",
          "tableTo": "cuentas_por_cobrar",
          "columnsFrom": [
            "cuenta_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "pagos_cuentas_cobrar_empresa_id_empresas_id_fk": {
          "name": "pagos_cuentas_cobrar_empresa_id_empresas_id_fk",
          "tableFrom": "pagos_cuentas_cobrar",
          "tableTo": "empresas",
          "columnsFrom": [
            "empresa_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "pagos_cuentas_cobrar_registrado_por_usuarios_id_fk": {
          "name": "pagos_cuentas_cobrar_registrado_por_usuarios_id_fk",
          "tableFrom": "pagos_cuentas_cobrar",
          "tableTo": "usuarios",
          "columnsFrom": [
            "registrado_por"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.pagos_cuentas_pagar": {
      "name": "pagos_cuentas_pagar",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "cuenta_id": {
          "name": "cuenta_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "empresa_id": {
          "name": "empresa_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "monto": {
          "name": "monto",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "metodo_pago": {
          "name": "metodo_pago",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "referencia": {
          "name": "referencia",
          "type": "varchar(100)",
          "primaryKey": false,
          "notNull": false
        },
        "notas": {
          "name": "notas",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "registrado_por": {
          "name": "registrado_por",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "fecha_pago": {
          "name": "fecha_pago",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": true
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "pagos_cuentas_pagar_cuenta_idx": {
          "name": "pagos_cuentas_pagar_cuenta_idx",
          "columns": [
            {
              "expression": "cuenta_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "pagos_cuentas_pagar_fecha_idx": {
          "name": "pagos_cuentas_pagar_fecha_idx",
          "columns": [
            {
              "expression": "fecha_pago",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "pagos_cuentas_pagar_cuenta_id_cuentas_por_pagar_id_fk": {
          "name": "pagos_cuentas_pagar_cuenta_id_cuentas_por_pagar_id_fk",
          "tableFrom": "pagos_cuentas_pagar",
          "tableTo": "cuentas_por_pagar",
          "columnsFrom": [
            "cuenta_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "pagos_cuentas_pagar_empresa_id_empresas_id_fk": {
          "name": "pagos_cuentas_pagar_empresa_id_empresas_id_fk",
          "tableFrom": "pagos_cuentas_pagar",
          "tableTo": "empresas",
          "columnsFrom": [
            "empresa_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "pagos_cuentas_pagar_registrado_por_usuarios_id_fk": {
          "name": "pagos_cuentas_pagar_registrado_por_usuarios_id_fk",
          "tableFrom": "pagos_cuentas_pagar",
          "tableTo": "usuarios",
          "columnsFrom": [
            "registrado_por"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "no action",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.recordatorios_pago": {
      "name": "recordatorios_pago",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "empresa_id": {
          "name": "empresa_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "factura_id": {
          "name": "factura_id",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "tipo": {
          "name": "tipo",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "dias_antes": {
          "name": "dias_antes",
          "type": "integer",
          "primaryKey": false,
          "notNull": false
        },
        "enviado": {
          "name": "enviado",
          "type": "boolean",
          "primaryKey": false,
          "notNull": false,
          "default": false
        },
        "fecha_envio": {
          "name": "fecha_envio",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false
        },
        "email": {
          "name": "email",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "recordatorios_pago_empresa_idx": {
          "name": "recordatorios_pago_empresa_idx",
          "columns": [
            {
              "expression": "empresa_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "recordatorios_pago_enviado_idx": {
          "name": "recordatorios_pago_enviado_idx",
          "columns": [
            {
              "expression": "enviado",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "recordatorios_pago_empresa_id_empresas_id_fk": {
          "name": "recordatorios_pago_empresa_id_empresas_id_fk",
          "tableFrom": "recordatorios_pago",
          "tableTo": "empresas",
          "columnsFrom": [
            "empresa_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "recordatorios_pago_factura_id_facturacion_servicio_id_fk": {
          "name": "recordatorios_pago_factura_id_facturacion_servicio_id_fk",
          "tableFrom": "recordatorios_pago",
          "tableTo": "facturacion_servicio",
          "columnsFrom": [
            "factura_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    },
    "public.transacciones_servicio": {
      "name": "transacciones_servicio",
      "schema": "",
      "columns": {
        "id": {
          "name": "id",
          "type": "text",
          "primaryKey": true,
          "notNull": true
        },
        "factura_id": {
          "name": "factura_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "empresa_id": {
          "name": "empresa_id",
          "type": "text",
          "primaryKey": false,
          "notNull": true
        },
        "monto": {
          "name": "monto",
          "type": "numeric(10, 2)",
          "primaryKey": false,
          "notNull": true
        },
        "estado": {
          "name": "estado",
          "type": "varchar(20)",
          "primaryKey": false,
          "notNull": true
        },
        "metodo_pago": {
          "name": "metodo_pago",
          "type": "varchar(50)",
          "primaryKey": false,
          "notNull": true
        },
        "stripe_charge_id": {
          "name": "stripe_charge_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "stripe_payment_method_id": {
          "name": "stripe_payment_method_id",
          "type": "varchar(255)",
          "primaryKey": false,
          "notNull": false
        },
        "mensaje_error": {
          "name": "mensaje_error",
          "type": "text",
          "primaryKey": false,
          "notNull": false
        },
        "metadata": {
          "name": "metadata",
          "type": "jsonb",
          "primaryKey": false,
          "notNull": false
        },
        "created_at": {
          "name": "created_at",
          "type": "timestamp",
          "primaryKey": false,
          "notNull": false,
          "default": "now()"
        }
      },
      "indexes": {
        "transacciones_servicio_factura_idx": {
          "name": "transacciones_servicio_factura_idx",
          "columns": [
            {
              "expression": "factura_id",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        },
        "transacciones_servicio_estado_idx": {
          "name": "transacciones_servicio_estado_idx",
          "columns": [
            {
              "expression": "estado",
              "isExpression": false,
              "asc": true,
              "nulls": "last"
            }
          ],
          "isUnique": false,
          "concurrently": false,
          "method": "btree",
          "with": {}
        }
      },
      "foreignKeys": {
        "transacciones_servicio_factura_id_facturacion_servicio_id_fk": {
          "name": "transacciones_servicio_factura_id_facturacion_servicio_id_fk",
          "tableFrom": "transacciones_servicio",
          "tableTo": "facturacion_servicio",
          "columnsFrom": [
            "factura_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        },
        "transacciones_servicio_empresa_id_empresas_id_fk": {
          "name": "transacciones_servicio_empresa_id_empresas_id_fk",
          "tableFrom": "transacciones_servicio",
          "tableTo": "empresas",
          "columnsFrom": [
            "empresa_id"
          ],
          "columnsTo": [
            "id"
          ],
          "onDelete": "cascade",
          "onUpdate": "no action"
        }
      },
      "compositePrimaryKeys": {},
      "uniqueConstraints": {},
      "policies": {},
      "checkConstraints": {},
      "isRLSEnabled": false
    }
  },
  "enums": {},
  "schemas": {},
  "sequences": {},
  "roles": {},
  "policies": {},
  "views": {},
  "_meta": {
    "columns": {},
    "schemas": {},
    "tables": {}
  }
}